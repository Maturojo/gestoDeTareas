<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Administrador - Gestor de Tareas</title>
    <link rel="stylesheet" href="../css/style.css">
        <!-- Toastify CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

</head>
<body>
    <div class="container">
        <a href="../index.html" class="btn volver-btn">Volver al Inicio</a>
        <button id="logout-btn" class="btn volver-btn">Cerrar Sesi√≥n</button>

        <h1 style="text-align: center; margin-bottom: 50px;">Administrador de Tareas</h1>

        <form id="task-form">
            <input type="text" id="task-title" placeholder="T√≠tulo de la tarea" required>
            <textarea id="task-desc" placeholder="Descripci√≥n de la tarea"></textarea>

            <select id="task-owner" required>
                <option value="">Asignar a:</option>
                <option value="Matias">Matias</option>
                <option value="Facundo">Facundo</option>
                <option value="Ariel">Ariel</option>
                <option value="Guillermo">Guillermo</option>
            </select>

            <select id="task-priority" required>
                <option value="1">Prioridad 1 (Alta)</option>
                <option value="2">Prioridad 2</option>
                <option value="3">Prioridad 3</option>
                <option value="4">Prioridad 4</option>
                <option value="5">Prioridad 5</option>
                <option value="6">Prioridad 6 (Baja)</option>
            </select>

            <input type="date" id="task-dueDate" placeholder="Fecha de vencimiento">
            <button type="submit">Agregar tarea</button>
        </form>

        <div class="dashboard">
            <p>Total de tareas: <span id="total-tasks">0</span></p>
            <p>Pendientes: <span id="pending-tasks">0</span></p>
            <p>Vencidas: <span id="overdue-tasks">0</span></p>
        </div>

        <div id="employee-sections"></div>
    </div>

    <!-- üëá Primero importamos la config -->
    <script type="module" src="/js/config.js"></script>
    <!-- üëá Luego importamos admin.js que depende de config.js -->
    <script type="module" src="/js/admin.js" defer></script>

        <!-- Toastify JS -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>


    <script>
        if (localStorage.getItem('admin-auth') !== 'true') {
            window.location.href = "login-admin.html";
        }

        document.getElementById('logout-btn').addEventListener('click', () => {
            localStorage.removeItem('admin-auth');
            window.location.href = "login-admin.html";
        });
    </script>
</body>
</html>
